"use strict";exports.destroyContext=null;function C(e){exports.destroyContext=e}exports.mountContext=null;function S(e){exports.mountContext=e}let d=null;function w(e){d=e}function T(e){S(e.mount),w(e.effect),C(e.destroy)}exports.activeEffect=null;function G(e){exports.activeEffect=e}function u(e){const n=()=>{h(n);const t=exports.activeEffect;exports.activeEffect=n,d&&d.push(n);try{e()}finally{exports.activeEffect=t}};return n.deps=[],n(),()=>h(n)}function h(e){if(e.deps){for(const n of e.deps)n.delete(e);e.deps.length=0}}const y=new WeakMap;function R(e,n){if(!exports.activeEffect)return;let t=y.get(e);t||(t=new Map,y.set(e,t));let o=t.get(n);o||(o=new Set,t.set(n,o)),o.has(exports.activeEffect)||(o.add(exports.activeEffect),exports.activeEffect.deps?exports.activeEffect.deps.push(o):exports.activeEffect.deps=[o])}function $(e,n){const t=y.get(e);if(!t)return;const o=t.get(n);if(!o)return;const r=new Set(o);for(const i of r)i()}function b(e){const n={value:e};return new Proxy(n,{get(t,o,r){return R(t,o),Reflect.get(t,o,r)},set(t,o,r,i){const s=t[o],c=Reflect.set(t,o,r,i);return s!==r&&$(t,o),c}})}const A=new Map;function F(e,n){A.set(e,n)}function g(e){const n=A.get(e)||[];for(const t of n)t()}const I=new Set(["a","animate","animateMotion","animateTransform","circle","clipPath","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","hatch","hatchpath","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","solidcolor","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","unknown","use","view"]),D=new Set(["math","maction","maligngroup","malignmark","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mscarries","mscarry","msgroup","mstack","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics","annotation","annotation-xml"]),W=["animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"],_=typeof document>"u";function v(e,n,t,o){const r=Math.max(n.length,t.length);for(let i=0;i<r;i++){const s=n[i],c=t[i];if(o){if(f(c))continue;e.appendChild(c),n[i]=c;continue}if(f(s)&&!f(c)){e.appendChild(c),n[i]=c;continue}if(!f(s)&&f(c)){g(s),e.removeChild(n[i]),n.splice(i,1),i--;continue}if(!(f(s)&&f(c))){if(s&&c){s.isSameNode(c)||(g(s),s.replaceWith(c),n[i]=c);continue}console.log("[veltra]: warning - unknown dom detected: ",{old:s,new:c})}}return[...n]}function E(e,n,t){for(const o of n)if(typeof o=="function"){let r=[],i=!0;j(()=>{const s=l(o()).map(p).flat();r=v(e,r,s,i),i=!1})}else{const r=p(o);!Array.isArray(r)&&r&&e.appendChild(r)}}function j(e){let n=null;const t=()=>{n&&n(),n=u(()=>{try{e()}catch(o){o instanceof Promise?o.then(t).catch(console.error):console.error(o)}})};t()}function z(e,n){for(const t in n)if(t.startsWith("on")&&typeof n[t]=="function"){const o=t.slice(2).toLowerCase();let r;u(()=>{r&&r();const i=n[t]();typeof i=="function"&&(e.addEventListener(o,i),r=()=>e.removeEventListener(o,i))})}else u(()=>{const o=typeof n[t]=="function"?n[t]():n[t];t==="ref"&&typeof o=="function"?o(e):t==="style"?q(e,o):t==="disabled"?e.toggleAttribute(t,o):e.setAttribute(t,o)})}function q(e,n){for(const[t,o]of Object.entries(n))typeof o=="number"&&!B(t)?e.style[t]=`${o}px`:e.style[t]=o}function B(e){return new Set(W).has(e)}const m=b(null);function k(e){let n=document.createTextNode(""),t;const{fallback:o,children:[r]}=e,i=o();let s=!0,c=[];const O=()=>{c=v(t,c,M(i),s),s=!1},x=()=>{const a=M(r()).flat();c=v(t,c,a,s)};return queueMicrotask(()=>{t=n.parentNode,u(()=>{try{if(!t)return;if(O(),m.value)throw m.value;x()}catch(a){if(a instanceof Promise)a.then(()=>{m.value=null,x()}).catch(()=>{});else throw a}})}),n}const M=e=>{const n=[],t=l(e);for(const o of t){const r=p(o);Array.isArray(r)?n.push(...r):n.push(r)}return n},H=[k];function U(e,n){if(!H.includes(e))for(const t in n)n[t]=n[t]instanceof Function?n[t]():n[t]}const N=new Set;function J(e,n,t){U(e,n);const o={mount:[],effect:[],destroy:[]};T(o);let r=e({...n,children:t}),i=r;return Array.isArray(r)&&(i=document.createTextNode(""),r.unshift(i)),ee(o,i),N.add(i),r}function V(e,n,t){try{if(e===P)return t;if(typeof e=="function")return J(e,n,t);const o=X(e,n.xmlns);return z(o,n),E(o,t),o}catch{}}function X(e,n){return(I.has(e)||D.has(e))&&n?document.createElementNS(n,e):document.createElement(e)}function K(e,n,t){return typeof e=="function"?e({...n,children:t}):`<${e} ${Q(n)}>${L(t)}</${e}>`}function Q(e){const n=[];for(const t in e){if(t.startsWith("on")&&typeof e[t]=="function")continue;const o=typeof e[t]=="function"?e[t]():e[t];t==="ref"&&typeof o=="function"||t==="style"||(t==="disabled"?o&&n.push("disabled"):n.push(`${t}="${o}"`))}return n.join(" ")}function L(e){let n=[];for(const t of e)typeof t=="function"?n.push(String(t())):Array.isArray(t)?t.forEach(o=>n.push(L([o]))):n.push(t);return n.join("")}const Y=(e,{children:n=[],...t})=>_?K(e,t,l(n)):V(e,t,l(n));function P({children:e}){return e}const l=e=>(Array.isArray(e)?e:[e]).flat(1/0),f=e=>e==null||e===!1;function p(e){if(typeof e=="string"||typeof e=="number")return document.createTextNode(String(e));if(e instanceof Node)return e;if(!f(e)){if(typeof e=="function")return p(e());if(Array.isArray(e))return e.map(p);console.log("Unknown JSX Element",e)}}function Z(e,n){const t=new MutationObserver(o=>{for(const r of o)for(const i of r.addedNodes)if(i===n){t.disconnect(),e();break}});queueMicrotask(()=>{n.parentNode&&t.observe(n.parentNode,{childList:!0,subtree:!0})})}function ee(e,n){const t=[];S(null),w(null),C(null),F(n,t),queueMicrotask(()=>{t.push(...e.destroy,...e.mount.map(o=>o()).filter(o=>!!o),...e.effect.map(o=>()=>h(o)))}),Z(()=>{t.push(...e.mount.map(o=>o()).filter(o=>!!o))},n)}exports.S=P,exports.Suspense=k,exports.componentRootNodes=N,exports.effect=u,exports.m=Y,exports.renderChildren=E,exports.runComponentCleanup=g,exports.setActiveEffect=G,exports.state=b,exports.suspensePromise=m,exports.toArray=l;
//# sourceMappingURL=register-lifecycle-DMfSs4sP.js.map

"use strict";const E=new Map;function I(e,t){E.set(e,t)}function g(e){const t=E.get(e)||[];for(const n of t)n()}exports.destroyContext=null;function k(e){exports.destroyContext=e}let x=null;function N(e){x=e}let C=null;function L(e){C=e}exports.stateContext=null;function A(e=null){exports.stateContext=e}const v=new Map,D=(e,t)=>{let n;if(t!==void 0){v.has(e)||v.set(e,new Map);const o=v.get(e);o.has(t)||o.set(t,{states:[]}),n=o.get(t)}else n={states:[]};return{...n,index:0}};function W(e,t){const n={mount:[],state:D(e,t),effect:[],destroy:[]};return L(n.mount),A(n.state),N(n.effect),k(n.destroy),n}function T(e){if(C)C.push(e);else throw new Error("onMount called outside of component")}exports.activeEffect=null;function O(e){exports.activeEffect=e}let d=null;function m(e){const t=()=>{S(t);const o=exports.activeEffect;exports.activeEffect=t,x&&x.push(t);try{e()}finally{exports.activeEffect=o}};t.deps=[],t();const n=()=>S(t);return d=n,n}function _(){queueMicrotask(()=>{d&&(d(),d=null)})}function S(e){if(e.deps){for(const t of e.deps)t.delete(e);e.deps.length=0}}function P(e){const t=exports.activeEffect;O(null);try{return e()}finally{O(t)}}const f=e=>e==null||e===!1;function w(e){if(e instanceof Node)return e;if(!f(e))return typeof e=="function"?w(e()):Array.isArray(e)?e.map(w):document.createTextNode(String(e))}function $(e,t,n,o){const r=Math.max(t.length,n.length);for(let s=0;s<r;s++){const i=t[s],c=n[s];if(f(i)&&!f(c)){o?e.insertBefore(c,o):e.appendChild(c),t[s]=c;continue}if(!f(i)&&f(c)){g(i),e.removeChild(i),t[s]=void 0;continue}if(!(f(i)&&f(c))){if(i&&c){g(i),i.replaceWith(c),t[s]=c;continue}console.warn("[veltra]: warning - unknown dom detected: ",{old:i,new:c})}}return[...t]}const q=[F];function j(e,t){if(!q.includes(e))for(const n in t)t[n]=t[n]instanceof Function?t[n]():t[n]}const M=new Set;function z(e,{key:t,...n},o){const r=t?.();j(e,n);const s=W(e,r),i=document.createTextNode(""),c=p(P(()=>e({...n,children:o})));return ie(s,i),c.unshift(i),M.add(i),c}const u=[];function F(e){const t=document.createTextNode("");M.add(t);const{fallback:n,children:[o]}=e;return T(()=>{const r=t.parentNode;if(!r)return;const s=[],i=c=>{queueMicrotask(()=>{s.forEach(a=>a()),n&&s.push(l(r,[n],t))}),c.then(()=>{s.forEach(a=>a()),u.push(i),s.push(l(r,[o],t)),u.pop()})};u.push(i),s.push(l(r,[o],t)),u.pop()}),t}function B(){return u[u.length-1]}function l(e,t,n=document.createTextNode("")){e.contains(n)||e.appendChild(n);const o=[];for(const r of t){let s=[];const i=B(),c=m(()=>{let a,b=[];try{a=typeof r=="function"?r():r,b=p(w(a))}catch(y){if(y instanceof Promise)i&&(queueMicrotask(()=>{c()}),i(y));else throw y}finally{s=$(e,s,b,n),o.push(()=>{$(e,s,[],n)})}});o.push(()=>{c()})}return()=>{o.forEach(r=>r())}}function G({children:e}){return e}const H=new Set(["a","animate","animateMotion","animateTransform","circle","clipPath","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","hatch","hatchpath","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","solidcolor","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","unknown","use","view"]),U=new Set(["math","maction","maligngroup","malignmark","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mscarries","mscarry","msgroup","mstack","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics","annotation","annotation-xml"]),V=["animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"],J=typeof document>"u",K=(e,{children:t=[],...n},o)=>J?oe(e,n,p(t)):te(e,n,p(t),o),h=new WeakMap;function Q(e,t,n){let o=h.get(e);o||(o=new Map,h.set(e,o)),o.has(t)&&e.removeEventListener(t,o.get(t)),e.addEventListener(t,n),o.set(t,n)}function X(e,t){const n=h.get(e);if(!n)return;const o=n.get(t);o&&(e.removeEventListener(t,o),n.delete(t)),n.size===0&&h.delete(e)}function Y(e,t){for(const n in t)if(n.startsWith("on")&&typeof t[n]=="function"){const o=n.slice(2).toLowerCase();let r;m(()=>{r&&r();const s=t[n]();typeof s=="function"&&(Q(e,o,s),r=()=>X(e,o))})}else{const o=()=>{const r=typeof t[n]=="function"?t[n]():t[n];n==="ref"&&typeof r=="function"?r(e):n==="style"?Z(e,r):n==="disabled"?e.toggleAttribute(n,r):e.setAttribute(n,r)};m(()=>{try{o()}catch(r){if(r instanceof Promise)r.then(o);else throw r}})}}function Z(e,t){if(e instanceof HTMLElement)for(const[n,o]of Object.entries(t)){const r=n;if(r==="length"||r==="parentRule")continue;const s=typeof o=="number"&&!ee(n)?`${o}px`:String(o);e.style.setProperty(String(r),s)}}function ee(e){return new Set(V).has(e)}function te(e,t,n,o){if(e===G)return n;if(typeof e=="function")return z(e,{key:o,...t},n);const r=ne(e,t.xmlns);return Y(r,t),l(r,n),r}function ne(e,t){return(H.has(e)||U.has(e))&&t?document.createElementNS(t,e):document.createElement(e)}function oe(e,t,n){return typeof e=="function"?e({...t,children:n}):`<${e} ${re(t)}>${R(n)}</${e}>`}function re(e){const t=[];for(const n in e){if(n.startsWith("on")&&typeof e[n]=="function")continue;const o=typeof e[n]=="function"?e[n]():e[n];n==="ref"&&typeof o=="function"||n==="style"||(n==="disabled"&&o?t.push("disabled"):t.push(`${n}="${o}"`))}return t.join(" ")}function R(e){const t=[];for(const n of e)typeof n=="function"?t.push(String(n())):Array.isArray(n)?n.forEach(o=>t.push(R([o]))):t.push(n);return t.join("")}function se(e,t){const n=new MutationObserver(o=>{for(const r of o)for(const s of r.addedNodes)if(s===t){e();break}});return queueMicrotask(()=>{t.parentNode&&n.observe(t.parentNode,{childList:!0,subtree:!0})}),()=>{n.disconnect()}}const p=e=>(Array.isArray(e)?e:[e]).flat(1/0);function ie(e,t){const n=[];L(null),A(null),N(null),k(null),I(t,n),se(()=>{n.push(...e.mount.map(o=>o()).filter(o=>!!o))},t),queueMicrotask(()=>{n.push(...e.destroy,...e.mount.map(o=>o()).filter(o=>!!o),...e.effect.map(o=>()=>S(o)))})}exports.Fragment=G,exports.Suspense=F,exports.componentRootNodes=M,exports.effect=m,exports.onMount=T,exports.renderChildren=l,exports.runComponentCleanup=g,exports.s=K,exports.stopEffect=_,exports.toArray=p,exports.untrack=P;
//# sourceMappingURL=run-lifecycle-DB1Kq-0l.js.map

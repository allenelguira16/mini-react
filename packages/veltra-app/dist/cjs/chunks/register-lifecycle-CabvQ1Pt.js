"use strict";const w=new Map;function I(e,t){w.set(e,t)}function h(e){const t=w.get(e)||[];for(const n of t)n()}exports.destroyContext=null;function b(e){exports.destroyContext=e}let y=null;function v(e){y=e}exports.mountContext=null;function k(e){exports.mountContext=e}function D(e){k(e.mount),v(e.effect),b(e.destroy)}let f=null;function A(e){f=e}function l(e){const t=()=>{g(t);const n=f;f=t,y&&y.push(t);try{e()}finally{f=n}};return t.deps=[],t(),()=>g(t)}function g(e){if(e.deps){for(const t of e.deps)t.delete(e);e.deps.length=0}}const x=new WeakMap;function M(e,t){if(!f)return;let n=x.get(e);n||(n=new Map,x.set(e,n));let o=n.get(t);o||(o=new Set,n.set(t,o)),o.has(f)||(o.add(f),f.deps?f.deps.push(o):f.deps=[o])}function N(e,t){const n=x.get(e);if(!n)return;const o=n.get(t);if(!o)return;const r=new Set(o);for(const i of r)i()}function L(e){const t={value:e};return new Proxy(t,{get(n,o,r){return M(n,o),Reflect.get(n,o,r)},set(n,o,r,i){const c=n[o],s=Reflect.set(n,o,r,i);return c!==r&&N(n,o),s}})}function P(e){const t=f;A(null);try{return e()}finally{A(t)}}const a=e=>e==null||e===!1;function p(e){if(e instanceof Node)return e;if(!a(e))return typeof e=="function"?p(e()):Array.isArray(e)?e.map(p):document.createTextNode(String(e))}function C(e,t,n,o){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++){const c=t[i],s=n[i];if(o){if(a(s))continue;e.appendChild(s),t[i]=s;continue}if(a(c)&&!a(s)){e.appendChild(s),t[i]=s;continue}if(!a(c)&&a(s)){h(c),e.removeChild(t[i]),t.splice(i,1),i--;continue}if(!(a(c)&&a(s))){if(c&&s){c.isSameNode(s)||(h(c),c.replaceWith(s),t[i]=s);continue}console.warn("[veltra]: warning - unknown dom detected: ",{old:c,new:s})}}return[...t]}function W(e){let t=null;const n=()=>{t&&t(),t=l(()=>{try{e()}catch(o){o instanceof Promise?o.then(n).catch(console.error):console.error(o)}})};n()}function O(e,t,n){for(const o of t)if(typeof o=="function"){let r=[],i=!0;W(()=>{const c=d(o()).map(p).flat();r=C(e,r,c,i),i=!1})}else{const r=p(o);!Array.isArray(r)&&r&&e.appendChild(r)}}function R({children:e}){return e}const _=new Set(["a","animate","animateMotion","animateTransform","circle","clipPath","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","hatch","hatchpath","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","solidcolor","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","unknown","use","view"]),j=new Set(["math","maction","maligngroup","malignmark","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mscarries","mscarry","msgroup","mstack","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics","annotation","annotation-xml"]),z=["animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"],q=typeof document>"u",B=(e,{children:t=[],...n})=>q?Z(e,n,d(t)):X(e,n,d(t));function H(e,t){for(const n in t)if(n.startsWith("on")&&typeof t[n]=="function"){const o=n.slice(2).toLowerCase();let r;l(()=>{r&&r();const i=t[n]();typeof i=="function"&&(e.addEventListener(o,i),r=()=>e.removeEventListener(o,i))})}else l(()=>{const o=typeof t[n]=="function"?t[n]():t[n];n==="ref"&&typeof o=="function"?o(e):n==="style"?U(e,o):n==="disabled"?e.toggleAttribute(n,o):e.setAttribute(n,o)})}function U(e,t){if(e instanceof HTMLElement)for(const[n,o]of Object.entries(t)){const r=n;if(r==="length"||r==="parentRule")continue;const i=typeof o=="number"&&!V(n)?`${o}px`:String(o);e.style.setProperty(String(r),i)}}function V(e){return new Set(z).has(e)}const m=L(null);function T(e){const t=document.createTextNode("");let n;const{fallback:o,children:[r]}=e,i=o();let c=!0,s=[];const $=()=>{s=C(n,s,E(i),c),c=!1},S=()=>{const u=E(r()).flat();s=C(n,s,u,c)};return queueMicrotask(()=>{n=t.parentNode,l(()=>{try{if(!n)return;if($(),m.value)throw m.value;S()}catch(u){if(u instanceof Promise)u.then(()=>{m.value=null,S()}).catch(()=>{});else throw u}})}),t}const E=e=>{const t=[],n=d(e);for(const o of n){const r=p(o);Array.isArray(r)?t.push(...r):t.push(r)}return t},J=[T];function K(e,t){if(!J.includes(e))for(const n in t)t[n]=t[n]instanceof Function?t[n]():t[n]}const F=new Set;function Q(e,t,n){K(e,t);const o={mount:[],effect:[],destroy:[]};D(o);const r=P(()=>e({...t,children:n}));let i=r;return Array.isArray(r)&&(i=document.createTextNode(""),r.unshift(i)),ne(o,i),F.add(i),r}function X(e,t,n){if(e===R)return n;if(typeof e=="function")return Q(e,t,n);const o=Y(e,t.xmlns);return H(o,t),O(o,n),o}function Y(e,t){return(_.has(e)||j.has(e))&&t?document.createElementNS(t,e):document.createElement(e)}function Z(e,t,n){return typeof e=="function"?e({...t,children:n}):`<${e} ${ee(t)}>${G(n)}</${e}>`}function ee(e){const t=[];for(const n in e){if(n.startsWith("on")&&typeof e[n]=="function")continue;const o=typeof e[n]=="function"?e[n]():e[n];n==="ref"&&typeof o=="function"||n==="style"||(n==="disabled"&&o?t.push("disabled"):t.push(`${n}="${o}"`))}return t.join(" ")}function G(e){const t=[];for(const n of e)typeof n=="function"?t.push(String(n())):Array.isArray(n)?n.forEach(o=>t.push(G([o]))):t.push(n);return t.join("")}function te(e,t){const n=new MutationObserver(o=>{for(const r of o)for(const i of r.addedNodes)if(i===t){n.disconnect(),e();break}});queueMicrotask(()=>{t.parentNode&&n.observe(t.parentNode,{childList:!0,subtree:!0})})}const d=e=>(Array.isArray(e)?e:[e]).flat(1/0);function ne(e,t){const n=[];k(null),v(null),b(null),I(t,n),queueMicrotask(()=>{n.push(...e.destroy,...e.mount.map(o=>o()).filter(o=>!!o),...e.effect.map(o=>()=>g(o)))}),te(()=>{n.push(...e.mount.map(o=>o()).filter(o=>!!o))},t)}exports.Fragment=R,exports.Suspense=T,exports.componentRootNodes=F,exports.effect=l,exports.renderChildren=O,exports.runComponentCleanup=h,exports.s=B,exports.state=L,exports.suspensePromise=m,exports.toArray=d,exports.track=M,exports.trigger=N,exports.untrack=P;
//# sourceMappingURL=register-lifecycle-CabvQ1Pt.js.map

"use strict";var s=require("./chunks/run-lifecycle-DB1Kq-0l.js");function p(o){if(s.destroyContext)s.destroyContext.push(o);else throw new Error("onDestroy called outside of component")}const d=new WeakMap;function m(o,t){if(!s.activeEffect)return;let e=d.get(o);e||(e=new Map,d.set(o,e));let n=e.get(t);n||(n=new Set,e.set(t,n)),n.has(s.activeEffect)||(n.add(s.activeEffect),s.activeEffect.deps?s.activeEffect.deps.push(n):s.activeEffect.deps=[n])}function v(o,t){const e=d.get(o);if(!e)return;const n=e.get(t);if(!n)return;const r=new Set(n);for(const c of r)c()}function l(o){if(s.stateContext){const{states:t,index:e}=s.stateContext;if(t.length<=e){const n=h(o);t.push(n)}return t[s.stateContext.index++]}return h(o)}function h(o){const t={value:o};return new Proxy(t,{get(e,n,r){return m(e,n),Reflect.get(e,n,r)},set(e,n,r,c){const u=e[n],f=Reflect.set(e,n,r,c);return u!==r&&v(e,n),f}})}function E(o){const t=l();return s.effect(()=>{t.value=o()}),{get value(){return t.value}}}function R(o){const t=l(!0);let e=null,n,r=null,c="pending";const u=l(0),f=async()=>{t.value=!0,e=null,n=void 0,c="pending",r=o(),r.then(i=>{n=i,e=null,t.value=!1,c="fulfilled"}).catch(i=>{n=void 0,e=i,c="rejected",t.value=!1}),s.untrack(()=>u.value++)};return s.effect(()=>{f()}),{get loading(){return t.value},get error(){return e},get data(){if(u.value,c==="pending")throw r;if(c==="rejected")throw e;return n},refetch:f,mutate(i){n=i,u.value++}}}const g=new WeakMap;function C(o){function t(e){if(g.has(e))return g.get(e);const n=new Proxy(e,{get(r,c,u){m(r,c);const f=Reflect.get(r,c,u);if(typeof f=="function")return f.bind(u);const i=Reflect.getOwnPropertyDescriptor(r,c);return i?.get?i.get.call(u):typeof f=="object"&&f!==null?t(f):f},set(r,c,u,f){const i=r[c],a=Reflect.set(r,c,u,f);return i!==u&&v(r,c),a}});return g.set(e,n),n}return t(o)}function M(o,t){s.renderChildren(o,s.toArray(t()))}function w(o,t){for(const e of t.nodes)o.contains(e)&&(s.runComponentCleanup(e),o.removeChild(e))}function N(o,t,e){for(const n of t)o.insertBefore(n,e)}function k(o,t,e,n){const r=new Map;let c=o.nextSibling;for(let u=0;u<n.length;u++){const f=n[u];r.set(f,(r.get(f)||0)+1);let i=0;const a=e.find(y=>y.item===f&&++i===r.get(f));a&&(s.untrack(()=>a.index.value=u),N(t,a.nodes,c),c=a.nodes[a.nodes.length-1].nextSibling)}}function x(o){const t=new Map;for(const e of o)t.set(e,(t.get(e)||0)+1);return t}function S(o,t,e){const n=x(t),r=x(e.map(c=>c.item));return e.filter(c=>(r.get(c.item)??0)>(n.get(c.item)??0)?(w(o,c),r.set(c.item,(r.get(c.item)??0)-1),!1):!0)}function b(o,t,e,n){const r=[],c=new Map;for(const u of o)if(c.set(u,(c.get(u)||0)+1),t.filter(f=>f.item===u).length+r.filter(f=>f.item===u).length<(c.get(u)||0)){const f=l(-1),i=s.toArray(e(u,f));r.push({id:n++,item:u,nodes:i,index:f})}return r}function j(o){return{each:t=>{const e=o;return t=t,s.s(()=>{const n=document.createTextNode("");let r=[],c=0;function u(i,a){r=S(i,a,r),r.push(...b(a,r,t,c)),k(n,i,r,a)}const f=()=>{const i=n.parentNode;if(!i)return;const a=e();a&&u(i,[...a])};return s.onMount(()=>{s.effect(()=>{f()})}),p(()=>{for(const i of r)w(n.parentNode,i)}),s.componentRootNodes.add(n),n},{})}}}function D(o){const t=[...o.filter(e=>!(e instanceof Text&&s.componentRootNodes.has(e)))];return t.length===1?t[0]:t}function O(o){let t,e=!0;return()=>(e&&(t=o(),e=!1),t)}function P(o){function t(e){if(e===null||typeof e!="object"||typeof e=="function")return e;const n={};for(const r of Reflect.ownKeys(e)){const c=e[r];n[r]=t(c)}return n}return t(o)}exports.Fragment=s.Fragment,exports.Suspense=s.Suspense,exports.effect=s.effect,exports.onMount=s.onMount,exports.stopEffect=s.stopEffect,exports.untrack=s.untrack,exports.computed=E,exports.createRoot=M,exports.logJsx=D,exports.loop=j,exports.memo=O,exports.onDestroy=p,exports.resource=R,exports.state=l,exports.store=C,exports.unwrap=P;
//# sourceMappingURL=index.js.map

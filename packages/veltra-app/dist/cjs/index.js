"use strict";var c=require("./chunks/register-lifecycle-Ds0-d7BW.js");function g(n){if(c.destroyContext)c.destroyContext.push(n);else throw new Error("onDestroy called outside of component")}function m(n){if(c.mountContext)c.mountContext.push(n);else throw new Error("onMount called outside of component")}function y(n){const e=c.state();return c.effect(()=>{e.value=n()}),{get value(){return e.value}}}function x(n){const e=p({loading:!0,error:null,data:void 0});let t=null;const i=()=>(e.loading=!0,t=new Promise((s,o)=>{n().then(r=>{e.data=r,e.loading=!1,e.error=null,s()}).catch(r=>{e.error=r,e.loading=!1,o(r)})}),t);return c.effect(()=>{i()}),{get loading(){return e.loading},get error(){return e.error},get data(){if(e.loading)throw t;if(!e.loading&&e.error)throw e.error;return e.data},refetch:i,mutate(s){e.data=s}}}const d=new WeakMap;function p(n){function e(t){if(d.has(t))return d.get(t);const i=new Proxy(t,{get(s,o,r){c.track(s,o);const u=Reflect.get(s,o,r);if(typeof u=="function")return u.bind(r);const l=Reflect.getOwnPropertyDescriptor(s,o);return l?.get?l.get.call(r):typeof u=="object"&&u!==null&&!(u instanceof Node)?e(u):u},set(s,o,r,u){const l=s[o],f=Reflect.set(s,o,r,u);return l!==r&&c.trigger(s,o),f}});return d.set(t,i),i}return e(n)}function v(n,e){c.renderChildren(n,c.toArray(e()))}function h(n,e){for(const t of e.nodes)n.contains(t)&&(c.runComponentCleanup(t),n.removeChild(t))}function N(n,e,t){for(const i of e)n.insertBefore(i,t)}function R(n,e,t,i){const s=new Map;let o=n.nextSibling;for(let r=0;r<i.length;r++){const u=i[r];s.set(u,(s.get(u)||0)+1);let l=0;const f=t.find(a=>a.item===u&&++l===s.get(u));f&&(c.untrack(()=>f.index.value=r),N(e,f.nodes,o),o=f.nodes[f.nodes.length-1].nextSibling)}}function w(n){const e=new Map;for(const t of n)e.set(t,(e.get(t)||0)+1);return e}function C(n,e,t){const i=w(e),s=w(t.map(o=>o.item));return t.filter(o=>(s.get(o.item)??0)>(i.get(o.item)??0)?(h(n,o),s.set(o.item,(s.get(o.item)??0)-1),!1):!0)}function M(n,e,t,i){const s=[],o=new Map;for(const r of n)if(o.set(r,(o.get(r)||0)+1),e.filter(u=>u.item===r).length+s.filter(u=>u.item===r).length<(o.get(r)||0)){const u=c.state(-1),l=c.toArray(t(r,u));s.push({id:i++,item:r,nodes:l,index:u})}return s}function b(n){return{each:e=>c.m(t=>{const{items:i,children:[s]}=t,o=document.createTextNode("");let r=[];const u=0;function l(f,a){r=C(f,a,r),r.push(...M(a,r,s,u)),R(o,f,r,a)}return m(()=>{c.effect(()=>{const f=o.parentNode;if(f)try{const a=i();if(!a)return;l(f,[...a])}catch(a){if(a instanceof Promise)c.suspensePromise.value=a;else throw a}})}),g(()=>{for(const f of r)h(o.parentNode,f)}),c.componentRootNodes.add(o),o},{items:()=>n,children:e})}}function k(n){const e=[...n.filter(t=>!(t instanceof Text&&c.componentRootNodes.has(t)))];return e.length===1?e[0]:e}function E(n){let e,t=!0;return()=>(t&&(e=n(),t=!1),e)}function P(n){function e(t){if(t===null||typeof t!="object"||typeof t=="function")return t;const i={};for(const s of Reflect.ownKeys(t)){const o=t[s];i[s]=e(o)}return i}return e(n)}exports.Fragment=c.Fragment,exports.Suspense=c.Suspense,exports.effect=c.effect,exports.state=c.state,exports.untrack=c.untrack,exports.computed=y,exports.createRoot=v,exports.logJsx=k,exports.loop=b,exports.memo=E,exports.onDestroy=g,exports.onMount=m,exports.resource=x,exports.store=p,exports.unwrap=P;
//# sourceMappingURL=index.js.map

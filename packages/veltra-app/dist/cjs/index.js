"use strict";var o=require("./chunks/register-lifecycle-DMfSs4sP.js");function d(n){if(o.mountContext)o.mountContext.push(n);else throw new Error("onMount called outside of component")}function m(n){if(o.destroyContext)o.destroyContext.push(n);else throw new Error("onDestroy called outside of component")}function g(n){const e=o.state();return o.effect(()=>{e.value=n()}),{get value(){return e.value}}}function v(n){const e=o.activeEffect;o.setActiveEffect(null);try{return n()}finally{o.setActiveEffect(e)}}function x(n){const e=o.state(!0),t=o.state(null),f=o.state(0);let i=o.state(),r;const s=()=>(e.value=!0,i.value=new Promise((u,a)=>{n().then(c=>{r=c,e.value=!1,t.value=null,f.value++,u()}).catch(c=>{t.value=c,e.value=!1,f.value++,a(c)})}),i.value);return o.effect(()=>{s()}),{get value(){f.value;const u=i.value;if(e.value)throw u;if(t.value)throw t.value;return r},loading:e,error:t,refetch:s,set mutate(u){r=u,f.value++}}}function w(n,e){o.renderChildren(n,o.toArray(e()))}function h(n,e){for(const t of e.nodes)n.contains(t)&&(o.runComponentCleanup(t),n.removeChild(t))}function y(n,e,t){for(const f of e)n.insertBefore(f,t)}function C(n,e,t,f){const i=new Map;let r=n.nextSibling;for(let s=0;s<f.length;s++){const u=f[s];i.set(u,(i.get(u)||0)+1);let a=0;const c=t.find(l=>l.item===u&&++a===i.get(u));c&&(v(()=>c.index.value=s),y(e,c.nodes,r),r=c.nodes[c.nodes.length-1].nextSibling)}}function p(n){const e=new Map;for(const t of n)e.set(t,(e.get(t)||0)+1);return e}function E(n,e,t){const f=p(e),i=p(t.map(r=>r.item));return t.filter(r=>(i.get(r.item)??0)>(f.get(r.item)??0)?(h(n,r),i.set(r.item,(i.get(r.item)??0)-1),!1):!0)}function N(n,e,t,f){const i=[],r=new Map;for(const s of n)if(r.set(s,(r.get(s)||0)+1),e.filter(u=>u.item===s).length+i.filter(u=>u.item===s).length<(r.get(s)||0)){const u=o.state(-1),a=o.toArray(t(s,u));i.push({id:f++,item:s,nodes:a,index:u})}return i}function M(n){function e(t){const{items:f,children:[i]}=t,r=document.createTextNode("");let s=[],u=0;function a(c,l){s=E(c,l,s),s.push(...N(l,s,i,u)),C(r,c,s,l)}return d(()=>{o.effect(()=>{const c=r.parentNode;if(c)try{a(c,[...f()])}catch(l){if(l instanceof Promise)o.suspensePromise.value=l;else throw l}})}),m(()=>{for(const c of s)h(r.parentNode,c)}),o.componentRootNodes.add(r),r}return{each:t=>o.m(e,{items:()=>n,children:t})}}function R(n){let e,t=!0;return()=>(t&&(e=n(),t=!1),e)}function A(n){const e=[...n.filter(t=>!(t instanceof Text&&o.componentRootNodes.has(t)))];return e.length===1?e[0]:e}exports.Suspense=o.Suspense,exports.effect=o.effect,exports.state=o.state,exports.computed=g,exports.createRoot=w,exports.logJsx=A,exports.loop=M,exports.memo=R,exports.onDestroy=m,exports.onMount=d,exports.resource=x,exports.untrack=v;
//# sourceMappingURL=index.js.map

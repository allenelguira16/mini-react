"use strict";var r=require("./chunks/register-lifecycle-bsPvk1O4.js");let m=!0;function x(n){const t=m;m=!1;const e=n();return m=t,e}function y(n){let t=n,e=new Set;return{get value(){if(!m)return t;const o=r.getSubscriber();return o&&!e.has(o)&&(e.add(o),o.subscriptions=e),t},set value(o){t=o,e.forEach(a=>a())}}}function N(n){let t,e=new Set;return r.watchSubscriber(()=>{t=n(),e.forEach(o=>o())}),t=n(),{get value(){const o=r.getSubscriber();return o&&!e.has(o)&&(e.add(o),o.subscriptions=e),t}}}function b(n,t){if(typeof t=="function"){const e=t();b(n,e)}else t instanceof HTMLElement||t instanceof Text?n.appendChild(t):Array.isArray(t)&&t.forEach(e=>b(n,e))}function T(n){function t(e){const{items:o,children:[a]}=e,u=document.createTextNode("");let i=[],f=0;function h(c,d){const v=R(d),g=R(i.map(s=>s.item));i=i.filter(s=>(g.get(s.item)??0)>(v.get(s.item)??0)?(M(c,s),g.set(s.item,(g.get(s.item)??0)-1),!1):!0);const p=[],S=new Map;for(const s of d)if(S.set(s,(S.get(s)||0)+1),i.filter(l=>l.item===s).length+p.filter(l=>l.item===s).length<(S.get(s)||0)){const l=y(-1),w=r.toArray(a(s,l));p.push({id:f++,item:s,nodes:w,index:l})}i.push(...p),E(u,c,i,d)}return r.onMount(()=>{r.reactor(()=>{const c=u.parentNode;c&&h(c,[...o()])})}),r.onDestroy(()=>{for(const c of i)M(u.parentNode,c)}),r.componentRootNodes.add(u),u}return{each:e=>r.e(t,{items:()=>n,children:e})}}function M(n,t){for(const e of t.nodes)n.contains(e)&&(r.runComponentCleanup(e),n.removeChild(e))}function C(n,t,e){for(const o of t)n.insertBefore(o,e)}function E(n,t,e,o){const a=new Map;let u=n.nextSibling;for(let i=0;i<o.length;i++){const f=o[i];a.set(f,(a.get(f)||0)+1);let h=0;const c=e.find(d=>d.item===f&&++h===a.get(f));c&&(x(()=>c.index.value=i),C(t,c.nodes,u),u=c.nodes[c.nodes.length-1].nextSibling)}}function R(n){const t=new Map;for(const e of n)t.set(e,(t.get(e)||0)+1);return t}function k(n){let t,e=!0;return()=>(e&&(t=n(),e=!1),t)}function A(n){const t=[...n.filter(e=>!(e instanceof Text&&r.componentRootNodes.has(e)))];return t.length===1?t[0]:t}exports.effect=r.effect,exports.h=r.h,exports.hSSR=r.hSSR,exports.onDestroy=r.onDestroy,exports.onMount=r.onMount,exports.cleanLog=A,exports.computed=N,exports.createRoot=b,exports.loop=T,exports.memo=k,exports.state=y,exports.untrack=x;
//# sourceMappingURL=index.js.map

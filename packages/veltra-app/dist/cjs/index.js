"use strict";var n=require("./chunks/register-lifecycle-BMfdav67.js");function v(o){const e=n.state();return n.effect(()=>{e.value=o()}),{get value(){return e.value}}}function g(o){const e=n.activeEffect;n.setActiveEffect(null);try{return o()}finally{n.setActiveEffect(e)}}function h(o,e){n.renderChildren(o,n.toArray(e()))}function d(o,e){for(const t of e.nodes)o.contains(t)&&(n.runComponentCleanup(t),o.removeChild(t))}function p(o,e,t){for(const f of e)o.insertBefore(f,t)}function x(o,e,t,f){const i=new Map;let r=o.nextSibling;for(let s=0;s<f.length;s++){const u=f[s];i.set(u,(i.get(u)||0)+1);let a=0;const c=t.find(l=>l.item===u&&++a===i.get(u));c&&(g(()=>c.index.value=s),p(e,c.nodes,r),r=c.nodes[c.nodes.length-1].nextSibling)}}function m(o){const e=new Map;for(const t of o)e.set(t,(e.get(t)||0)+1);return e}function y(o,e,t){const f=m(e),i=m(t.map(r=>r.item));return t.filter(r=>(i.get(r.item)??0)>(f.get(r.item)??0)?(d(o,r),i.set(r.item,(i.get(r.item)??0)-1),!1):!0)}function w(o,e,t,f){const i=[],r=new Map;for(const s of o)if(r.set(s,(r.get(s)||0)+1),e.filter(u=>u.item===s).length+i.filter(u=>u.item===s).length<(r.get(s)||0)){const u=n.state(-1),a=n.toArray(t(s,u));i.push({id:f++,item:s,nodes:a,index:u})}return i}function N(o){function e(t){const{items:f,children:[i]}=t,r=document.createTextNode("");let s=[],u=0;function a(c,l){s=y(c,l,s),s.push(...w(l,s,i,u)),x(r,c,s,l)}return n.onMount(()=>{n.effect(()=>{const c=r.parentNode;if(c)try{a(c,[...f()])}catch(l){if(l instanceof Promise)n.suspensePromise.value=l;else throw l}})}),n.onDestroy(()=>{for(const c of s)d(r.parentNode,c)}),n.componentRootNodes.add(r),r}return{each:t=>n.m(e,{items:()=>o,children:t})}}function E(o){let e,t=!0;return()=>(t&&(e=o(),t=!1),e)}function M(o){const e=[...o.filter(t=>!(t instanceof Text&&n.componentRootNodes.has(t)))];return e.length===1?e[0]:e}function R(o){const e=n.state(!0),t=n.state(null),f=n.state(0);let i=n.state(),r;const s=()=>(e.value=!0,i.value=new Promise((u,a)=>{o().then(c=>{r=c,e.value=!1,t.value=null,f.value++,u()}).catch(c=>{t.value=c,e.value=!1,f.value++,a(c)})}),i.value);return n.effect(()=>{s()}),{get value(){f.value;const u=i.value;if(e.value)throw u;if(t.value)throw t.value;return r},loading:e,error:t,refetch:s,set mutate(u){r=u,f.value++}}}exports.Suspense=n.Suspense,exports.effect=n.effect,exports.onDestroy=n.onDestroy,exports.onMount=n.onMount,exports.state=n.state,exports.computed=v,exports.createRoot=h,exports.logJsx=M,exports.loop=N,exports.memo=E,exports.resource=R;
//# sourceMappingURL=index.js.map

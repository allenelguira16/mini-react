"use strict";var s=require("./chunks/ssr-DbH1Fikc.js");function m(r){if(s.destroyContext)s.destroyContext.push(r);else throw new Error("onDestroy called outside of component")}const g=new WeakMap;function h(r,t){if(!s.activeEffect)return;let e=g.get(r);e||(e=new Map,g.set(r,e));let n=e.get(t);n||(n=new Set,e.set(t,n)),n.has(s.activeEffect)||(n.add(s.activeEffect),s.activeEffect.deps?s.activeEffect.deps.push(n):s.activeEffect.deps=[n])}function v(r,t){const e=g.get(r);if(!e)return;const n=e.get(t);if(!n)return;const c=new Set(n);for(const o of c)o()}function d(r){if(s.stateContext){const{states:t,index:e}=s.stateContext;if(t.length<=e){const n=w(r);t.push(n)}return t[s.stateContext.index++]}return w(r)}function w(r){const t={value:r};return new Proxy(t,{get(e,n,c){return h(e,n),Reflect.get(e,n,c)},set(e,n,c,o){const u=e[n],f=Reflect.set(e,n,c,o);return u!==c&&v(e,n),f}})}function E(r){const t=d();return s.effect(()=>{t.value=r()}),{get value(){return t.value}}}function R(r){let t=!0,e=null,n,c=null,o="pending";const u=d(0),f=async()=>{t=!0,e=null,n=void 0,o="pending",c=r(),c.then(a=>{n=a,e=null,o="fulfilled",t=!1,s.untrack(()=>u.value++)}).catch(a=>{n=void 0,e=a,o="rejected",t=!1,s.untrack(()=>u.value++)}),s.untrack(()=>u.value++)};return s.effect(()=>{f()}),{get loading(){return u.value,t},get error(){return e},get data(){if(u.value,o==="pending")throw c;if(o==="rejected")throw e;return n},refetch:f,mutate(a){n=a,u.value++}}}const p=new WeakMap;function C(r){function t(e){if(p.has(e))return p.get(e);const n=new Proxy(e,{get(c,o,u){h(c,o);const f=Reflect.get(c,o,u);if(typeof f=="function")return f.bind(u);const a=Reflect.getOwnPropertyDescriptor(c,o);return a?.get?a.get.call(u):typeof f=="object"&&f!==null?t(f):f},set(c,o,u,f){const a=c[o],i=Reflect.set(c,o,u,f);return a!==u&&v(c,o),i}});return p.set(e,n),n}return t(r)}function k(r){const t=[...r.filter(e=>!(e instanceof Text&&s.componentRootNodes.has(e)))];return t.length===1?t[0]:t}function M(r){let t,e=!0;return()=>(e&&(t=r(),e=!1),t)}function N(r){function t(e){if(e===null||typeof e!="object"||typeof e=="function")return e;const n={};for(const c of Reflect.ownKeys(e)){const o=e[c];n[c]=t(o)}return n}return t(r)}function S(r,t){s.renderChildren(r,s.toArray(t()))}function x(r,t){for(const e of t.nodes)r.contains(e)&&(s.runComponentCleanup(e),r.removeChild(e))}function b(r,t,e){for(const n of t)r.insertBefore(n,e)}function j(r,t,e,n){const c=new Map;let o=r.nextSibling;for(let u=0;u<n.length;u++){const f=n[u];c.set(f,(c.get(f)||0)+1);let a=0;const i=e.find(l=>l.item===f&&++a===c.get(f));i&&(s.untrack(()=>i.index.value=u),b(t,i.nodes,o),o=i.nodes[i.nodes.length-1].nextSibling)}}function y(r){const t=new Map;for(const e of r)t.set(e,(t.get(e)||0)+1);return t}function D(r,t,e){const n=y(t),c=y(e.map(o=>o.item));return e.filter(o=>(c.get(o.item)??0)>(n.get(o.item)??0)?(x(r,o),c.set(o.item,(c.get(o.item)??0)-1),!1):!0)}function P(r,t,e,n){const c=[],o=new Map;for(const u of r)if(o.set(u,(o.get(u)||0)+1),t.filter(f=>f.item===u).length+c.filter(f=>f.item===u).length<(o.get(u)||0)){const f=d(-1),a=s.toArray(e(u,f));c.push({id:n++,item:u,nodes:a,index:f})}return c}function O(r){const t=s.getCurrentSuspenseHandler();return{each:e=>{const n=r;return e=e,s.m(()=>{const c=document.createTextNode("");let o=[],u=0;function f(i,l){o=D(i,l,o),o.push(...P(l,o,e,u)),j(c,i,o,l)}const a=()=>{s.effect(()=>{try{const i=c.parentNode;if(!i)return;const l=n();if(!l)return;f(i,[...l])}catch(i){if(i instanceof Promise)t(i);else throw i}})};return s.onMount(()=>{a()}),m(()=>{for(const i of o)x(c.parentNode,i)}),s.componentRootNodes.add(c),c},{})}}}exports.Fragment=s.Fragment,exports.Suspense=s.Suspense,exports.effect=s.effect,exports.onMount=s.onMount,exports.stopEffect=s.stopEffect,exports.untrack=s.untrack,exports.computed=E,exports.createRoot=S,exports.logJsx=k,exports.loop=O,exports.memo=M,exports.onDestroy=m,exports.resource=R,exports.state=d,exports.store=C,exports.unwrap=N;
//# sourceMappingURL=index.js.map

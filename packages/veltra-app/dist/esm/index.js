import{a as u,e as y,s as w,r as j,t as S,m as E,o as A,b as M,c as b,d as P}from"./chunks/register-lifecycle-Co6LBtAS.js";import{S as O,h as Q,f as U}from"./chunks/register-lifecycle-Co6LBtAS.js";const x=new WeakMap;function B(n,e){if(!u)return;let t=x.get(n);t||(t=new Map,x.set(n,t));let o=t.get(e);o||(o=new Set,t.set(e,o)),o.has(u)||(o.add(u),u.deps?u.deps.push(o):u.deps=[o])}function D(n,e){const t=x.get(n);if(!t)return;const o=t.get(e);if(!o)return;const r=new Set(o);for(const i of r)i()}function v(n){const e={value:n};return new Proxy(e,{get(t,o,r){return B(t,o),Reflect.get(t,o,r)},set(t,o,r,i){const f=t[o],a=Reflect.set(t,o,r,i),d=Array.isArray(r),s=typeof r=="object"&&!Array.isArray(r)&&r!==null;return(d||s||typeof r!="object"&&typeof r!="function"&&f!==r)&&D(t,o),a}})}function J(n){const e=v();return y(()=>{e.value=n()}),{get value(){return e.value}}}function N(n){const e=u;w(null);try{return n()}finally{w(e)}}function L(n,e){j(n,S(e()))}function W(n){function e(t){const{items:o,children:[r]}=t,i=document.createTextNode("");let f=[],a=0;function d(s,p){const T=C(p),g=C(f.map(c=>c.item));f=f.filter(c=>(g.get(c.item)??0)>(T.get(c.item)??0)?(R(s,c),g.set(c.item,(g.get(c.item)??0)-1),!1):!0);const m=[],h=new Map;for(const c of p)if(h.set(c,(h.get(c)||0)+1),f.filter(l=>l.item===c).length+m.filter(l=>l.item===c).length<(h.get(c)||0)){const l=v(-1),k=S(r(c,l));m.push({id:a++,item:c,nodes:k,index:l})}f.push(...m),z(i,s,f,p)}return A(()=>{y(()=>{const s=i.parentNode;s&&d(s,[...o()])})}),M(()=>{for(const s of f)R(i.parentNode,s)}),b.add(i),i}return{each:t=>E(e,{items:()=>n,children:t})}}function R(n,e){for(const t of e.nodes)n.contains(t)&&(P(t),n.removeChild(t))}function q(n,e,t){for(const o of e)n.insertBefore(o,t)}function z(n,e,t,o){const r=new Map;let i=n.nextSibling;for(let f=0;f<o.length;f++){const a=o[f];r.set(a,(r.get(a)||0)+1);let d=0;const s=t.find(p=>p.item===a&&++d===r.get(a));s&&(N(()=>s.index.value=f),q(e,s.nodes,i),i=s.nodes[s.nodes.length-1].nextSibling)}}function C(n){const e=new Map;for(const t of n)e.set(t,(e.get(t)||0)+1);return e}function F(n){let e,t=!0;return()=>(t&&(e=n(),t=!1),e)}function G(n){const e=[...n.filter(t=>!(t instanceof Text&&b.has(t)))];return e.length===1?e[0]:e}export{O as Suspense,G as cleanLog,J as computed,L as createRoot,y as effect,Q as h,U as hSSR,W as loop,F as memo,M as onDestroy,A as onMount,v as state,N as untrack};
//# sourceMappingURL=index.js.map

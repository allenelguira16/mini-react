import{a,e as y,s as w,r as j,t as S,m as E,o as A,b as M,c as b,d as J}from"./chunks/register-lifecycle-Co6LBtAS.js";import{S as O,h as Q,f as U}from"./chunks/register-lifecycle-Co6LBtAS.js";const x=new WeakMap;function P(n,t){if(!a)return;let e=x.get(n);e||(e=new Map,x.set(n,e));let o=e.get(t);o||(o=new Set,e.set(t,o)),o.has(a)||(o.add(a),a.deps?a.deps.push(o):a.deps=[o])}function B(n,t){const e=x.get(n);if(!e)return;const o=e.get(t);if(!o)return;const r=new Set(o);for(const i of r)i()}function v(n){const t={value:n};return new Proxy(t,{get(e,o,r){return P(e,o),Reflect.get(e,o,r)},set(e,o,r,i){const f=e[o],u=Reflect.set(e,o,r,i),d=Array.isArray(r),s=typeof r=="object"&&!Array.isArray(r)&&r!==null;return(d||s||typeof r!="object"&&typeof r!="function"&&f!==r)&&B(e,o),u}})}function D(n){const t=v();return y(()=>{t.value=n()}),{get value(){return t.value}}}function N(n){const t=a;w(null);try{return n()}finally{w(t)}}function W(n,t){j(n,S(t()))}function q(n){function t(e){const{items:o,children:[r]}=e,i=document.createTextNode("");let f=[],u=0;function d(s,p){const T=C(p),g=C(f.map(c=>c.item));f=f.filter(c=>(g.get(c.item)??0)>(T.get(c.item)??0)?(R(s,c),g.set(c.item,(g.get(c.item)??0)-1),!1):!0);const m=[],h=new Map;for(const c of p)if(h.set(c,(h.get(c)||0)+1),f.filter(l=>l.item===c).length+m.filter(l=>l.item===c).length<(h.get(c)||0)){const l=v(-1),k=S(r(c,l));m.push({id:u++,item:c,nodes:k,index:l})}f.push(...m),F(i,s,f,p)}return A(()=>{y(()=>{const s=i.parentNode;s&&d(s,[...o()])})}),M(()=>{for(const s of f)R(i.parentNode,s)}),b.add(i),i}return{each:e=>E(t,{items:()=>n,children:e})}}function R(n,t){for(const e of t.nodes)n.contains(e)&&(J(e),n.removeChild(e))}function z(n,t,e){for(const o of t)n.insertBefore(o,e)}function F(n,t,e,o){const r=new Map;let i=n.nextSibling;for(let f=0;f<o.length;f++){const u=o[f];r.set(u,(r.get(u)||0)+1);let d=0;const s=e.find(p=>p.item===u&&++d===r.get(u));s&&(N(()=>s.index.value=f),z(t,s.nodes,i),i=s.nodes[s.nodes.length-1].nextSibling)}}function C(n){const t=new Map;for(const e of n)t.set(e,(t.get(e)||0)+1);return t}function G(n){let t,e=!0;return()=>(e&&(t=n(),e=!1),t)}function H(n){const t=[...n.filter(e=>!(e instanceof Text&&b.has(e)))];return t.length===1?t[0]:t}export{O as Suspense,D as computed,W as createRoot,y as effect,Q as h,U as hSSR,H as logJsx,q as loop,G as memo,M as onDestroy,A as onMount,v as state,N as untrack};
//# sourceMappingURL=index.js.map

import{g as b,w as A,e as R,o as S,a as w,c as T,r as k,b as L,t as B}from"./chunks/register-lifecycle-BcfWsLFc.js";import{f as I,h as K,d as O}from"./chunks/register-lifecycle-BcfWsLFc.js";let d=!0;function v(n){const t=d;d=!1;const e=n();return d=t,e}function y(n){let t=n,e=new Set;return{get value(){if(!d)return t;const o=b();return o&&!e.has(o)&&(e.add(o),o.subscriptions=e),t},set value(o){t=o,e.forEach(a=>a())}}}function D(n){let t,e=new Set;return A(()=>{t=n(),e.forEach(o=>o())}),t=n(),{get value(){const o=b();return o&&!e.has(o)&&(e.add(o),o.subscriptions=e),t}}}function x(n,t){if(typeof t=="function"){const e=t();x(n,e)}else t instanceof HTMLElement||t instanceof Text?n.appendChild(t):Array.isArray(t)&&t.forEach(e=>x(n,e))}function H(n){function t(e){const{items:o,children:[a]}=e,i=document.createTextNode("");let c=[],f=0;function m(s,l){const C=N(l),h=N(c.map(r=>r.item));c=c.filter(r=>(h.get(r.item)??0)>(C.get(r.item)??0)?(M(s,r),h.set(r.item,(h.get(r.item)??0)-1),!1):!0);const p=[],g=new Map;for(const r of l)if(g.set(r,(g.get(r)||0)+1),c.filter(u=>u.item===r).length+p.filter(u=>u.item===r).length<(g.get(r)||0)){const u=y(-1),E=B(a(r,u));p.push({id:f++,item:r,nodes:E,index:u})}c.push(...p),P(i,s,c,l)}return S(()=>{L(()=>{const s=i.parentNode;s&&m(s,[...o()])})}),w(()=>{for(const s of c)M(i.parentNode,s)}),T.add(i),i}return{each:e=>R(t,{items:()=>n,children:e})}}function M(n,t){for(const e of t.nodes)n.contains(e)&&(k(e),n.removeChild(e))}function J(n,t,e){for(const o of t)n.insertBefore(o,e)}function P(n,t,e,o){const a=new Map;let i=n.nextSibling;for(let c=0;c<o.length;c++){const f=o[c];a.set(f,(a.get(f)||0)+1);let m=0;const s=e.find(l=>l.item===f&&++m===a.get(f));s&&(v(()=>s.index.value=c),J(t,s.nodes,i),i=s.nodes[s.nodes.length-1].nextSibling)}}function N(n){const t=new Map;for(const e of n)t.set(e,(t.get(e)||0)+1);return t}function j(n){let t,e=!0;return()=>(e&&(t=n(),e=!1),t)}function q(n){const t=[...n.filter(e=>!(e instanceof Text&&T.has(e)))];return t.length===1?t[0]:t}export{q as cleanLog,D as computed,x as createRoot,I as effect,K as h,O as hSSR,H as loop,j as memo,w as onDestroy,S as onMount,y as state,v as untrack};
//# sourceMappingURL=index.js.map

import{d as y,a as l,s as m,e as p,u as d,c as v,r as P,t as x,g as E,b as D,m as O,o as S}from"./chunks/ssr-BX0VT5gd.js";import{F as U,S as V,f as X}from"./chunks/ssr-BX0VT5gd.js";function C(s){if(y)y.push(s);else throw new Error("onDestroy called outside of component")}const h=new WeakMap;function N(s,t){if(!l)return;let e=h.get(s);e||(e=new Map,h.set(s,e));let n=e.get(t);n||(n=new Set,e.set(t,n)),n.has(l)||(n.add(l),l.deps?l.deps.push(n):l.deps=[n])}function b(s,t){const e=h.get(s);if(!e)return;const n=e.get(t);if(!n)return;const r=new Set(n);for(const o of r)o()}function g(s){if(m){const{states:t,index:e}=m;if(t.length<=e){const n=M(s);t.push(n)}return t[m.index++]}return M(s)}function M(s){const t={value:s};return new Proxy(t,{get(e,n,r){return N(e,n),Reflect.get(e,n,r)},set(e,n,r,o){const u=e[n],c=Reflect.set(e,n,r,o);return u!==r&&b(e,n),c}})}function z(s){const t=g();return p(()=>{t.value=s()}),{get value(){return t.value}}}function A(s){let t=!0,e=null,n,r=null,o="pending";const u=g(0),c=async()=>{t=!0,e=null,n=void 0,o="pending",r=s(),r.then(i=>{n=i,e=null,o="fulfilled",t=!1,d(()=>u.value++)}).catch(i=>{n=void 0,e=i,o="rejected",t=!1,d(()=>u.value++)}),d(()=>u.value++)};return p(()=>{c()}),{get loading(){return u.value,t},get error(){return e},get data(){if(u.value,o==="pending")throw r;if(o==="rejected")throw e;return n},refetch:c,mutate(i){n=i,u.value++}}}const w=new WeakMap;function F(s){function t(e){if(w.has(e))return w.get(e);const n=new Proxy(e,{get(r,o,u){N(r,o);const c=Reflect.get(r,o,u);if(typeof c=="function")return c.bind(u);const i=Reflect.getOwnPropertyDescriptor(r,o);return i?.get?i.get.call(u):typeof c=="object"&&c!==null?t(c):c},set(r,o,u,c){const i=r[o],f=Reflect.set(r,o,u,c);return i!==u&&b(r,o),f}});return w.set(e,n),n}return t(s)}function T(s){const t=[...s.filter(e=>!(e instanceof Text&&v.has(e)))];return t.length===1?t[0]:t}function R(s){let t,e=!0;return()=>(e&&(t=s(),e=!1),t)}function W(s){function t(e){if(e===null||typeof e!="object"||typeof e=="function")return e;const n={};for(const r of Reflect.ownKeys(e)){const o=e[r];n[r]=t(o)}return n}return t(s)}function $(s){let t;return{mount:e=>{const n=document.querySelector(e);if(!(n instanceof Element))throw new Error("Node must be of type Element");t=P(n,x(s()))},unmount:()=>{if(!t)throw new Error("Can only unmount if the app is mounted");t()}}}function q(s,t){let e,n,r=null;const o=t??"default",u=R(()=>{if(e)return e;throw n||(r||(r=s().then(c=>{if(!(o in c))throw new Error(`lazy(): Export "${String(o)}" not found in module`);e=c[o]}).catch(c=>{n=c})),r)});return()=>E()?u():u}function j(s,t){for(const e of t.nodes)s.contains(e)&&(D(e),s.removeChild(e))}function B(s,t,e){for(const n of t)s.insertBefore(n,e)}function H(s,t,e,n){const r=new Map;let o=s.nextSibling;for(let u=0;u<n.length;u++){const c=n[u];r.set(c,(r.get(c)||0)+1);let i=0;const f=e.find(a=>a.item===c&&++i===r.get(c));f&&(d(()=>f.index.value=u),B(t,f.nodes,o),o=f.nodes[f.nodes.length-1].nextSibling)}}function k(s){const t=new Map;for(const e of s)t.set(e,(t.get(e)||0)+1);return t}function J(s,t,e){const n=k(t),r=k(e.map(o=>o.item));return e.filter(o=>(r.get(o.item)??0)>(n.get(o.item)??0)?(j(s,o),r.set(o.item,(r.get(o.item)??0)-1),!1):!0)}function K(s,t,e,n){const r=[],o=new Map;for(const u of s)if(o.set(u,(o.get(u)||0)+1),t.filter(c=>c.item===u).length+r.filter(c=>c.item===u).length<(o.get(u)||0)){const c=g(-1),i=x(e(u,c));r.push({id:n++,item:u,nodes:i,index:c})}return r}function G(s){const t=E();return{each:e=>{const n=s;return e=e,O(()=>{const r=document.createTextNode("");let o=[],u=0;function c(f,a){o=J(f,a,o),o.push(...K(a,o,e,u)),H(r,f,o,a)}const i=()=>{p(()=>{try{const f=r.parentNode;if(!f)return;const a=n();if(!a)return;c(f,[...a])}catch(f){if(f instanceof Promise)t&&t(f);else throw f}})};return S(()=>{i()}),C(()=>{for(const f of o)j(r.parentNode,f)}),v.add(r),r},{})}}}export{U as Fragment,V as Suspense,z as computed,$ as createApp,p as effect,q as lazy,T as logJsx,G as loop,R as memo,C as onDestroy,S as onMount,A as resource,g as state,X as stopEffect,F as store,d as untrack,W as unwrap};
//# sourceMappingURL=index.js.map

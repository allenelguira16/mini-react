let h=null;function T(e){h=e}function $(){h=null}function D(e){if(h)h.push(e);else throw new Error("onMount called outside of component")}let y=null;function G(e){y=e}function R(){y=null}function F(e){if(y)y.push(e);else throw new Error("onDestroy called outside of component")}let f=null,g=null;function I(e){f=e}function W(e){g=e}function j(){g=null}function l(e){const n=()=>{b(n);const t=f;f=n,g&&g.push(n);try{e()}finally{f=t}};return n.deps=[],n(),()=>b(n)}function b(e){if(e.deps){for(const n of e.deps)n.delete(e);e.deps.length=0}}const S=new WeakMap;function _(e,n){if(!f)return;let t=S.get(e);t||(t=new Map,S.set(e,t));let o=t.get(n);o||(o=new Set,t.set(n,o)),o.has(f)||(o.add(f),f.deps?f.deps.push(o):f.deps=[o])}function z(e,n){const t=S.get(e);if(!t)return;const o=t.get(n);if(!o)return;const r=new Set(o);for(const i of r)i()}function v(e){const n={value:e};return new Proxy(n,{get(t,o,r){return _(t,o),Reflect.get(t,o,r)},set(t,o,r,i){const c=t[o],s=Reflect.set(t,o,r,i),w=Array.isArray(r),m=typeof r=="object"&&!Array.isArray(r)&&r!==null;return(w||m||typeof r!="object"&&typeof r!="function"&&c!==r)&&z(t,o),s}})}function q(e){T(e.mount),W(e.effect),G(e.destroy)}const M=new Map;function B(e,n){M.set(e,n)}function C(e){const n=M.get(e)||[];for(const t of n)t()}const H=new Set(["a","animate","animateMotion","animateTransform","circle","clipPath","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","hatch","hatchpath","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","solidcolor","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","unknown","use","view"]),U=new Set(["math","maction","maligngroup","malignmark","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mscarries","mscarry","msgroup","mstack","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics","annotation","annotation-xml"]),J=["animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"],V=typeof document>"u";function A(e,n,t,o){const r=Math.max(n.length,t.length);for(let i=0;i<r;i++){const c=n[i],s=t[i];if(o){if(a(s))continue;e.appendChild(s),n[i]=s;continue}if(a(c)&&!a(s)){e.appendChild(s),n[i]=s;continue}if(!a(c)&&a(s)){C(c),e.removeChild(n[i]),n.splice(i,1),i--;continue}if(!(a(c)&&a(s))){if(c&&s){c.isSameNode(s)||(C(c),c.replaceWith(s),n[i]=s);continue}console.log("[veltra]: warning - unknown dom detected: ",{old:c,new:s})}}return[...n]}function k(e,n,t){for(const o of n)if(typeof o=="function"){let r=[],i=!0;X(()=>{const c=p(o()).map(d).flat();r=A(e,r,c,i),i=!1})}else{const r=d(o);!Array.isArray(r)&&r&&e.appendChild(r)}}function X(e){let n=null;const t=()=>{n&&n(),n=l(()=>{try{e()}catch(o){o instanceof Promise?o.then(t).catch(console.error):console.error(o)}})};t()}function K(e,n){for(const t in n)if(t.startsWith("on")&&typeof n[t]=="function"){const o=t.slice(2).toLowerCase();let r;l(()=>{r&&r();const i=n[t]();typeof i=="function"&&(e.addEventListener(o,i),r=()=>e.removeEventListener(o,i))})}else l(()=>{const o=typeof n[t]=="function"?n[t]():n[t];t==="ref"&&typeof o=="function"?o(e):t==="style"?Q(e,o):t==="disabled"?e.toggleAttribute(t,o):e.setAttribute(t,o)})}function Q(e,n){for(const[t,o]of Object.entries(n))typeof o=="number"&&!Y(t)?e.style[t]=`${o}px`:e.style[t]=o}function Y(e){return new Set(J).has(e)}const x=v(null);function N(e){let n=document.createTextNode(""),t;const{fallback:o,children:[r]}=e,i=o();let c=!0,s=[];const w=()=>{s=A(t,s,E(i),c),c=!1},m=()=>{const u=E(r()).flat();s=A(t,s,u,c)};return queueMicrotask(()=>{t=n.parentNode,l(()=>{try{if(!t)return;if(w(),x.value)throw x.value;m()}catch(u){if(u instanceof Promise)u.then(()=>{x.value=null,m()}).catch(()=>{});else throw u}})}),n}const E=e=>{const n=[],t=p(e);for(const o of t){const r=d(o);Array.isArray(r)?n.push(...r):n.push(r)}return n},Z=[N];function ee(e,n){if(!Z.includes(e))for(const t in n)n[t]=n[t]instanceof Function?n[t]():n[t]}const L=new Set;function te(e,n,t){ee(e,n);const o={mount:[],effect:[],destroy:[]};q(o);let r=e({...n,children:t}),i=r;return Array.isArray(r)&&(i=document.createTextNode(""),r.unshift(i)),fe(o,i),L.add(i),r}function ne(e,n,t){try{if(e===P)return t;if(typeof e=="function")return te(e,n,t);const o=oe(e,n.xmlns);return K(o,n),k(o,t),o}catch{}}function oe(e,n){return(H.has(e)||U.has(e))&&n?document.createElementNS(n,e):document.createElement(e)}function re(e,n,t){return typeof e=="function"?e({...n,children:t}):`<${e} ${ie(n)}>${O(t)}</${e}>`}function ie(e){const n=[];for(const t in e){if(t.startsWith("on")&&typeof e[t]=="function")continue;const o=typeof e[t]=="function"?e[t]():e[t];t==="ref"&&typeof o=="function"||t==="style"||(t==="disabled"?o&&n.push("disabled"):n.push(`${t}="${o}"`))}return n.join(" ")}function O(e){let n=[];for(const t of e)typeof t=="function"?n.push(t()):Array.isArray(t)?t.forEach(o=>n.push(O([o]))):n.push(t);return n.join("")}const se=(e,{children:n=[],...t})=>V?re(e,t,p(n)):ne(e,t,p(n));function P({children:e}){return e}const p=e=>(Array.isArray(e)?e:[e]).flat(1/0),a=e=>e==null||e===!1;function d(e){if(typeof e=="string"||typeof e=="number")return document.createTextNode(String(e));if(e instanceof Node)return e;if(!a(e)){if(typeof e=="function")return d(e());if(Array.isArray(e))return e.map(d);console.log("Unknown JSX Element",e)}}function ce(e,n){const t=new MutationObserver(o=>{for(const r of o)for(const i of r.addedNodes)if(i===n){t.disconnect(),e();break}});queueMicrotask(()=>{n.parentNode&&t.observe(n.parentNode,{childList:!0,subtree:!0})})}function fe(e,n){const t=[];$(),j(),R(),B(n,t),queueMicrotask(()=>{t.push(...e.destroy,...e.mount.map(o=>o()).filter(o=>!!o),...e.effect.map(o=>()=>b(o)))}),ce(()=>{t.push(...e.mount.map(o=>o()).filter(o=>!!o))},n)}export{N as S,I as a,f as b,C as c,F as d,l as e,L as f,x as g,P as h,se as m,D as o,k as r,v as s,p as t};
//# sourceMappingURL=register-lifecycle-Uxdw4Zq_.js.map

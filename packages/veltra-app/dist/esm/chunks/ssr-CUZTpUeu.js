const x=new Map;function H(e,t){x.set(e,t)}function C(e){const t=x.get(e)||[];for(const n of t)n(),x.delete(e)}let N=null;function A(e){N=e}let S=null;function T(e){S=e}let w=null;function O(e){w=e}let P=null;function $(e=null){P=e}const v=new Map,q=(e,t)=>{let n;if(t!==void 0){v.has(e)||v.set(e,new Map);const o=v.get(e);o.has(t)||o.set(t,{states:[]}),n=o.get(t)}else n={states:[]};return{...n,index:0}};function U(e,t){const n={mount:[],state:q(e,t),effect:[],destroy:[]};return O(n.mount),$(n.state),T(n.effect),A(n.destroy),n}function F(e){if(w)w.push(e);else throw new Error("onMount called outside of component")}let u=null;function G(e){u=e}let p=null;function m(e){const t=()=>{M(t);const o=u;u=t,S&&S.push(t);try{e()}finally{u=o}};t.deps=[],t();const n=()=>M(t);return p=n,n}function V(){queueMicrotask(()=>{p&&(p(),p=null)})}function M(e){if(e.deps){for(const t of e.deps)t.delete(e);e.deps.length=0}}function I(e){const t=u;G(null);try{return e()}finally{G(t)}}const D=new Map;function R(e){const t=D.get(e);if(!t)return;const n=[];O(null),$(null),T(null),A(null),H(e,n),queueMicrotask(()=>{n.push(...t.destroy,...t.mount.map(o=>o()).filter(o=>!!o),...t.effect.map(o=>()=>M(o)))})}const f=e=>e==null||e===!1;function b(e){if(e instanceof Node)return e;if(!f(e))return typeof e=="function"?b(e()):Array.isArray(e)?e.map(b):document.createTextNode(String(e))}const d=e=>(Array.isArray(e)?e:[e]).flat(1/0);function W(e,t,n,o){const s=Math.max(t.length,n.length);for(let i=0;i<s;i++){const r=t[i],c=n[i];if(f(r)&&!f(c)){o?e.insertBefore(c,o):e.appendChild(c),R(c),t[i]=c;continue}if(!f(r)&&f(c)){C(r),e.removeChild(r),t[i]=void 0;continue}if(!(f(r)&&f(c))){if(r&&c){C(r),R(c),r.replaceWith(c),t[i]=c;continue}console.warn("[veltra]: warning - unknown dom detected: ",{old:r,new:c})}}return[...t]}const J=[_];function K(e,t){if(!J.includes(e))for(const n in t)t[n]=t[n]instanceof Function?t[n]():t[n]}const k=new Set;function Q(e,{key:t,...n},o){const s=t?.();K(e,n);const i=U(e,s),r=document.createTextNode("");k.add(r);const c=d(I(()=>e({...n,children:o})));return D.set(r,i),c.unshift(r),c}const h=[];function _(e){const t=document.createTextNode("");k.add(t);const{fallback:n,children:[o]}=e;return F(()=>{const s=t.parentNode;if(!s)return;const i=[],r=l=>{h.push(c),i.push(E(s,[l],t)),h.pop()},c=l=>{queueMicrotask(()=>{i.forEach(a=>a()),n&&r(n)}),l.then(()=>{i.forEach(a=>a()),r(o)})};r(o)}),t}function B(){return h[h.length-1]}function E(e,t,n){const o={disposer:[],oldNodes:[]};for(const s of t){const i=document.createTextNode("");e.insertBefore(i,n??null);let r=[];const c=B(),l=m(()=>{let a,L=[];try{a=typeof s=="function"?s():s,L=d(b(a))}catch(g){if(g instanceof Promise)c&&c(g);else throw g}r=W(e,r,L,i),o.oldNodes.push(()=>{W(e,r,[],n)})});o.disposer.push(()=>{l()})}return()=>{o.disposer.forEach(s=>s()),o.oldNodes.forEach(s=>s())}}function j({children:e}){return e}const X=new Set(["a","animate","animateMotion","animateTransform","circle","clipPath","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","hatch","hatchpath","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","solidcolor","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","unknown","use","view"]),Y=new Set(["math","maction","maligngroup","malignmark","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mscarries","mscarry","msgroup","mstack","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics","annotation","annotation-xml"]),Z=["animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"],ee=typeof document>"u",te=(e,{children:t=[],...n},o)=>ee?ae(e,n,d(t)):ce(e,n,d(t),o),y=new WeakMap;function ne(e,t,n){let o=y.get(e);o||(o=new Map,y.set(e,o)),o.has(t)&&e.removeEventListener(t,o.get(t)),e.addEventListener(t,n),o.set(t,n)}function oe(e,t){const n=y.get(e);if(!n)return;const o=n.get(t);o&&(e.removeEventListener(t,o),n.delete(t)),n.size===0&&y.delete(e)}function se(e,t){for(const n in t)if(n.startsWith("on")&&typeof t[n]=="function"){const o=n.slice(2).toLowerCase();let s;m(()=>{s&&s();const i=t[n]();typeof i=="function"&&(ne(e,o,i),s=()=>oe(e,o))})}else{const o=()=>{const s=typeof t[n]=="function"?t[n]():t[n];n==="ref"&&typeof s=="function"?s(e):n==="style"?ie(e,s):n==="disabled"?e.toggleAttribute(n,s):e.setAttribute(n,s)};m(()=>{try{o()}catch(s){if(s instanceof Promise)s.then(o);else throw s}})}}function ie(e,t){if(e instanceof HTMLElement)for(const[n,o]of Object.entries(t)){const s=n;if(s==="length"||s==="parentRule")continue;const i=typeof o=="number"&&!re(n)?`${o}px`:String(o);e.style.setProperty(String(s),i)}}function re(e){return new Set(Z).has(e)}function ce(e,t,n,o){if(e===j)return n;if(typeof e=="function")return Q(e,{key:o,...t},n);const s=fe(e,t.xmlns);return se(s,t),E(s,n),s}function fe(e,t){return(X.has(e)||Y.has(e))&&t?document.createElementNS(t,e):document.createElement(e)}function ae(e,t,n){return typeof e=="function"?e({...t,children:n}):`<${e} ${ue(t)}>${z(n)}</${e}>`}function ue(e){const t=[];for(const n in e){if(n.startsWith("on")&&typeof e[n]=="function")continue;const o=typeof e[n]=="function"?e[n]():e[n];n==="ref"&&typeof o=="function"||n==="style"||(n==="disabled"&&o?t.push("disabled"):t.push(`${n}="${o}"`))}return t.join(" ")}function z(e){const t=[];for(const n of e)typeof n=="function"?t.push(String(n())):Array.isArray(n)?n.forEach(o=>t.push(z([o]))):t.push(n);return t.join("")}export{j as F,_ as S,u as a,C as b,k as c,N as d,m as e,V as f,B as g,te as m,F as o,E as r,P as s,d as t,I as u};
//# sourceMappingURL=ssr-CUZTpUeu.js.map

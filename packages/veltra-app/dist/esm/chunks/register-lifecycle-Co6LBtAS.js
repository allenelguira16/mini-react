let l=null;function k(e){l=e}function N(){l=null}function b(e){if(l)l.push(e);else throw new Error("onMount called outside of component")}let d=null;function E(e){d=e}function L(){d=null}function O(e){if(d)d.push(e);else throw new Error("onDestroy called outside of component")}let a=null,m=null;function T(e){a=e}function D(e){m=e}function G(){m=null}function u(e){const t=()=>{y(t);const n=a;a=t,m&&m.push(t);try{e()}finally{a=n}};return t.deps=[],t(),()=>y(t)}function y(e){if(e.deps){for(const t of e.deps)t.delete(e);e.deps.length=0}}function $(e){k(e.mount),D(e.effect),E(e.destroy)}const C=new Map;function F(e,t){C.set(e,t)}function g(e){const t=C.get(e)||[];for(const n of t)n()}const I=new Set(["a","animate","animateMotion","animateTransform","circle","clipPath","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","hatch","hatchpath","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","solidcolor","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","unknown","use","view"]),P=new Set(["math","maction","maligngroup","malignmark","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mscarries","mscarry","msgroup","mstack","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics","annotation","annotation-xml"]),R=["animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"],W=typeof document>"u",_=(e,{children:t=[],...n})=>W?M(e,n,h(t)):v(e,n,h(t));function S({children:e}){return e}function j(e){for(const t in e)e[t]=e[t]instanceof Function?e[t]():e[t]}const x=new Set;function z(e,t,n){j(t);const o={mount:[],effect:[],destroy:[]};$(o);let r=e({...t,children:n}),i=r;return Array.isArray(r)&&(i=document.createTextNode(""),r.unshift(i)),Q(o,i),x.add(i),r}function B(e,t,n,o){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++){const c=t[i],s=n[i];if(o){if(f(s))continue;e.appendChild(s),t[i]=s;continue}if(f(c)&&!f(s)){e.appendChild(s),t[i]=s;continue}if(!f(c)&&f(s)){g(c),e.removeChild(t[i]),t.splice(i,1),i--;continue}if(!(f(c)&&f(s))){if(c&&s){c.isSameNode(s)||(g(c),c.replaceWith(s),t[i]=s);continue}console.log("[veltra]: warning - unknown dom detected: ",{old:c,new:s})}}return[...t]}function w(e,t){for(const n of t)if(typeof n=="function"){let o=[],r=!0;u(()=>{const i=h(n()).map(p).flat();o=B(e,o,i,r),r=!1})}else{const o=p(n);!Array.isArray(o)&&o&&e.appendChild(o)}}function q(e){const t=document.createTextNode(""),{fallback:n,children:[o]}=e,r=o();return u(()=>{try{console.log(r())}catch(i){console.log(i)}}),b(()=>{console.log("mounted")}),x.add(t),t}function H(e,t){for(const n in t)if(n.startsWith("on")&&typeof t[n]=="function"){const o=n.slice(2).toLowerCase();let r;u(()=>{r&&r();const i=t[n]();typeof i=="function"&&(e.addEventListener(o,i),r=()=>e.removeEventListener(o,i))})}else u(()=>{const o=typeof t[n]=="function"?t[n]():t[n];n==="ref"&&typeof o=="function"?o(e):n==="style"?U(e,o):n==="disabled"?e.toggleAttribute(n,o):e.setAttribute(n,o)})}function U(e,t){for(const[n,o]of Object.entries(t))typeof o=="number"&&!J(n)?e.style[n]=`${o}px`:e.style[n]=o}function J(e){return new Set(R).has(e)}function v(e,t,n){if(e===S)return n;if(typeof e=="function")return z(e,t,n);const o=V(e,t.xmlns);return H(o,t),w(o,n),o}function V(e,t){return(I.has(e)||P.has(e))&&t?document.createElementNS(t,e):document.createElement(e)}function M(e,t,n){return typeof e=="function"?e({...t,children:n}):`<${e} ${X(t)}>${A(n)}</${e}>`}function X(e){const t=[];for(const n in e){if(n.startsWith("on")&&typeof e[n]=="function")continue;const o=typeof e[n]=="function"?e[n]():e[n];n==="ref"&&typeof o=="function"||n==="style"||(n==="disabled"?o&&t.push("disabled"):t.push(`${n}="${o}"`))}return t.join(" ")}function A(e){let t=[];for(const n of e)typeof n=="function"?t.push(n()):Array.isArray(n)?n.forEach(o=>t.push(A([o]))):t.push(n);return t.join("")}const f=e=>e==null||e===!1;function p(e){if(typeof e=="string"||typeof e=="number")return document.createTextNode(String(e));if(e instanceof Node)return e;if(!f(e)){if(typeof e=="function")return p(e());if(Array.isArray(e))return e.map(p);console.log("Unknown JSX Element",e)}}const h=e=>(Array.isArray(e)?e:[e]).flat(1/0);function K(e,t){const n=new MutationObserver(o=>{for(const r of o)for(const i of r.addedNodes)if(i===t){n.disconnect(),e();break}});queueMicrotask(()=>{t.parentNode&&n.observe(t.parentNode,{childList:!0,subtree:!0})})}function Q(e,t){const n=[];N(),G(),L(),F(t,n),queueMicrotask(()=>{n.push(...e.destroy,...e.mount.map(o=>o()).filter(o=>!!o),...e.effect.map(o=>()=>y(o)))}),K(()=>{n.push(...e.mount.map(o=>o()).filter(o=>!!o))},t)}export{q as S,a,O as b,x as c,g as d,u as e,M as f,S as g,v as h,_ as m,b as o,w as r,T as s,h as t};
//# sourceMappingURL=register-lifecycle-Co6LBtAS.js.map

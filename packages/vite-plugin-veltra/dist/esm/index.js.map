{"version":3,"file":"index.js","sources":["../../src/index.ts"],"sourcesContent":["import { transformAsync } from \"@babel/core\";\n// @ts-expect-error - babel-preset-typescript is not typed\nimport babelPluginTS from \"@babel/preset-typescript\";\nimport babelPluginVeltra from \"@babel/preset-veltra\";\nimport type { Plugin } from \"vite\";\n\nconst vitePlugin = (): Plugin => {\n  return {\n    name: \"vite-plugin-veltra\",\n    enforce: \"pre\",\n    async transform(code, id) {\n      if (/\\.(tsx?|jsx?)$/.test(id)) {\n        const result = await transformAsync(code, {\n          filename: id,\n          sourceMaps: true,\n          presets: [babelPluginVeltra, babelPluginTS],\n        });\n\n        if (result?.code) {\n          return {\n            code: result.code,\n            map: result.map,\n          };\n        }\n      }\n    },\n  };\n};\n\nexport default vitePlugin;\n"],"names":["vitePlugin","code","id","result","transformAsync","babelPluginVeltra","babelPluginTS"],"mappings":"yHAMA,MAAMA,EAAa,KACV,CACL,KAAM,qBACN,QAAS,MACT,MAAM,UAAUC,EAAMC,EAAI,CACxB,GAAI,iBAAiB,KAAKA,CAAE,EAAG,CAC7B,MAAMC,EAAS,MAAMC,EAAeH,EAAM,CACxC,SAAUC,EACV,WAAY,GACZ,QAAS,CAACG,EAAmBC,CAAa,CAC5C,CAAC,EAED,GAAIH,GAAQ,KACV,MAAO,CACL,KAAMA,EAAO,KACb,IAAKA,EAAO,GACd,CAEJ,CACF,CACF"}
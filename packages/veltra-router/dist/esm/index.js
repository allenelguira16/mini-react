import{jsx as i,Fragment as r}from"@veltra/app/jsx-runtime";import{state as u,effect as c}from"@veltra/app";const a=u({pathname:window.location.pathname,search:window.location.search});window.addEventListener("popstate",()=>{a.value={...a.value,pathname:window.location.pathname}});function d(n){history.pushState(null,"",n),a.value={...a.value,pathname:n}}function l(n,t){for(const e of t){if(e.path===n)return e;if(e.children){const o=l(n,e.children);if(o)return o}}}function h(n){const t=u(()=>i(r,{}));return c(()=>{const e=l(a.value.pathname,n.routes);if(e){if(e.guard&&!e.guard()){t.value=()=>i("div",{children:"Access Denied"});return}if(e.lazy){e.lazy().then(o=>{t.value=o.default});return}t.value=e.component}else t.value=()=>i("div",{children:"404 Not Found"})}),()=>i(r,{children:t.value()})}export{h as Router,a as location,d as navigate};
//# sourceMappingURL=index.js.map
